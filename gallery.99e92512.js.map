{"version":3,"sources":["js/api.js","js/gallery.js"],"names":["API_KEY","BASE_URL","fetchTag","tags","page","fetch","then","response","ok","Error","status","console","log","json","refs","searchForm","document","querySelector","galleryList","loadMoreBtn","renderPhotos","hits","markup","map","webformatURL","likes","views","comments","downloads","join","insertAdjacentHTML","classList","add","addEventListener","photos","e","preventDefault","elements","searchQuery","value","remove"],"mappings":";AAYC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,SAAA,EAZD,MAAMA,EAAW,qCACXC,EAAY,0BACX,SAASC,EAASC,EAAMC,GAGtBC,OAAAA,SAFQJ,UAAiBD,OAAaG,kEAAqEC,gBAEhGE,KAAKC,IACjB,IAACA,EAASC,GACN,MAAA,IAAIC,MAAMF,EAASG,QAGpBH,OADPI,QAAQC,IAAIL,GACLA,EAASM;;ACqIpB,aA1HA,IAAA,EAAA,QAAA,SACA,MAAMC,EAAO,CACXC,WAAYC,SAASC,cAAc,gBAEnCC,YAAaF,SAASC,cAAc,YACpCE,YAAaH,SAASC,cAAc,eAEtC,IAAId,EAAO,EACPC,EAAO,EAqBX,SAASgB,GAAa,KAAEC,IACtBV,QAAQC,IAAIS,GACNC,MAAAA,EAASD,EACZE,IACC,EACEC,aAAAA,EACArB,KAAAA,EAEAsB,MAAAA,EACAC,MAAAA,EACAC,SAAAA,EACAC,UAAAA,gDAEQJ,WAAsBrB,4GAGlBsB,sEAGAC,wEAGGC,yEAGCC,2CAKnBC,KAAK,IAERf,EAAKI,YAAYY,mBAAmB,YAAaR,GApDnDR,EAAKK,YAAYY,UAAUC,IAAI,aAC/BlB,EAAKK,YAAYc,iBAAiB,QAAS,MAChC9B,EAAAA,EAAAA,UAAAA,EAAMC,GAAME,KAAK4B,IACxBd,EAAac,GACb9B,GAAQ,MAIZU,EAAKC,WAAWkB,iBAAiB,SAAUE,IACzCA,EAAEC,iBAEFjC,EAAOW,EAAKC,WAAWsB,SAASC,YAAYC,OAEnCpC,EAAAA,EAAAA,UAAAA,EAAMC,GAAME,KAAK4B,IACxBd,EAAac,GACb9B,GAAQ,EACRU,EAAKK,YAAYY,UAAUS,OAAO","file":"gallery.99e92512.js","sourceRoot":"../src","sourcesContent":["const API_KEY = `24377768-1651c24dae1d00899e27f41ae`;\nconst BASE_URL = `https://pixabay.com/api`;\nexport function fetchTag(tags, page) {\n  const URL = `${BASE_URL}/?key=${API_KEY}&q=${tags}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=4`;\n\n  return fetch(URL).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    console.log(response);\n    return response.json();\n  });\n}\n","// 1-я попытка..............\n// // OK\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\//\n// import axios from 'axios';\n// import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\n// function notifyFailure() {\n//   Notify.failure('Sorry, there are no images matching your search query. Please try again.', {\n//     showOnlyTheLastOne: true,\n//   });\n// }\n\n// eg\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\n//   if (parseInt(data.totalHits) > 0)\n//     $.each(data.hits, function (i, hit) {\n//       console.log(hit.pageURL);\n//     });\n//   else console.log('No hits');\n// });\n\n// OK\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\nimport { fetchTag } from './api';\nconst refs = {\n  searchForm: document.querySelector('#search-form'),\n  //   input: document.querySelector('.searchQuery'),\n  galleryList: document.querySelector('.gallery'),\n  loadMoreBtn: document.querySelector('.load-more'),\n};\nlet tags = 0;\nlet page = 1;\nrefs.loadMoreBtn.classList.add('is-hidden');\nrefs.loadMoreBtn.addEventListener('click', () => {\n  fetchTag(tags, page).then(photos => {\n    renderPhotos(photos);\n    page += 1;\n  });\n});\n\nrefs.searchForm.addEventListener('submit', e => {\n  e.preventDefault();\n\n  tags = refs.searchForm.elements.searchQuery.value;\n  //   refs.searchForm.reset();\n  fetchTag(tags, page).then(photos => {\n    renderPhotos(photos);\n    page += 1;\n    refs.loadMoreBtn.classList.remove('is-hidden');\n  });\n});\n\nfunction renderPhotos({ hits }) {\n  console.log(hits);\n  const markup = hits\n    .map(\n      ({\n        webformatURL,\n        tags,\n        // largeImageURL,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `<div class=\"photo-card\">\n    <img src=\"${webformatURL}\" alt=\"${tags}\" weight=\"20\" loading=\"lazy\" />\n    <div class=\"info\">\n      <p class=\"info-item\">\n        <b>Likes: ${likes} </b>\n      </p>\n      <p class=\"info-item\">\n        <b>Views: ${views}</b>\n      </p>\n      <p class=\"info-item\">\n        <b>Comments: ${comments}</b>\n      </p>\n      <p class=\"info-item\">\n        <b>Downloads: ${downloads}</b>\n      </p>\n    </div>\n  </div>`,\n    )\n    .join('');\n  //  <img class=\"large-img\" src=\"${largeImageURL}\" alt=\"${tags}\" weight=\"20\" loading=\"lazy\" />;\n  refs.galleryList.insertAdjacentHTML('beforeend', markup);\n}\n// galleryListReset();\n// function galleryListReset() {\n//   galleryList.innerHTML = '';\n// }\n// ${hit.previewURL}\n// function notifyInfo() {\n//   Notify.info('Too many matches found. Please enter a more specific name.', {\n//     showOnlyTheLastOne: true,\n//   });\n// {\n/* ; */\n// }\n\n// if {hits.lengs === 0} {\n// notifyFailure();\n// console.log('ошибка')\n// };\n\n// end\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\n// refs.form.addEventListener('input', e => {\n//   //  const login = searchbox.elements.login.value;\n//   tag = e.target.value;\n//   console.log(e.target.value);\n// });\n\n// function showPhoto({ main, weather, name }) {\n//   refs.temperatureDescription.textContent = weather[0].main;\n//   refs.temmperatureDegree.textContent = Math.round(main.temp);\n//   refs.locationTimezone.textContent = name;\n//   refs.icon.src = `https://openweathermap.org/img/wn/${weather[0].icon}@2x.png`;\n//   setSkycons(weather[0].description);\n// }\n// eg pixabay\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n// $.getJSON(URL, function (data) {\n//   if (parseInt(data.totalHits) > 0)\n//     $.each(data.hits, function (i, hit) {\n//       console.log(hit.pageURL);\n//     });\n//   else console.log('No hits');\n// });\n// \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n// const searchbox = document.querySelector('.searchbox > input');\n// const profileContainer = document.querySelector('.profile-section');\n\n// searchbox.addEventListener('submit', e => {\n//   e.preventDefault();\n//   const login = searchbox.elements.login.value;\n//   fetchUser(login).then(showProfile);\n//   searchbox.reset();\n// });\n\n// searchbox.addEventListener(\n//   'input',\n//   debounce(() => {\n//     fetchUser(searchbox.value)\n//       .then(userdata => showProfile(userdata))\n//       .catch(error => showError(error));\n//   }, 300),\n// );\n"]}